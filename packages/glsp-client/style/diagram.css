/********************************************************************************
 * Copyright (c) 2023 CrossBreeze.
 ********************************************************************************/

:root {
   --sprotty-background: var(--theia-layout-color3);
   --sprotty-edge: var(--theia-editor-foreground);
   --sprotty-border: var(--theia-editor-foreground);

   --background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g><line x1="10" y1="15" x2="20" y2="15" stroke="black" stroke-width="1" stroke-linecap="round" stroke-opacity="0.15" /><line x1="15" y1="10" x2="15" y2="20" stroke="black" stroke-width="1" stroke-linecap="round" stroke-opacity="0.15" /></g></svg>');
}

/* Standard sprotty */
.sprotty {
   height: 100%;
}

.feedback-edge {
   pointer-events: none;
}

.sprotty-graph {
   font-size: 15pt;
   height: 100%;
   background: var(--sprotty-background);
   background-image: var(--background-image);
   background-size: 11px;
}

.sprotty
   .edge-creation:not(.edge-check-pending-mode):not(.edge-creation-select-source-mode):not(.edge-creation-select-target-mode):not(
      .edge-reconnect-select-target-mode:not(.edge-modification-not-allowed-mode)
   ) {
   cursor: ew-resize;
}

.sprotty text {
   font-family: monospace;
}

.sprotty-edge {
   stroke: #6d6d6d;
   stroke-width: 2px;
}

/* Nodes */
.sprotty-node:not(.selected, .mouseover) {
   fill: #fbfaff;
   stroke: #a8a1c5;
   stroke-width: 2px;
   /* filter: drop-shadow(1px 1px 1px rgba(0, 0, 0, 0.8)); */
}

.source-object .sprotty-node:not(.selected, .mouseover) {
   stroke: #a1c5a5;
   fill: #fefffe;
}

.header-label {
   font-weight: bold;
   letter-spacing: 0.5px;
}

.attribute-compartment {
   stroke: none;
   fill: transparent;
}

.attribute-compartment.mouseover,
.sprotty-node.mouseover:not(.selected),
.sprotty-edge.mouseover:not(.selected) {
   stroke: var(--theia-focusBorder);
   stroke-width: 2px;
   opacity: 1;
}

.attribute-compartment.selected,
.sprotty-node.selected,
.sprotty-edge.selected {
   stroke: var(--theia-focusBorder);
   stroke-width: 2px;
   stroke-dasharray: 6px 3px;
}

.attribute-compartment.mouseover,
.attribute-compartment.selected,
.sprotty-node.mouseover:not(.selected),
.sprotty-node.selected {
   fill: #f3faff;
   stroke-width: 2px;
}

.sprotty .attribute_expression_marker {
   text-anchor: start;
   baseline-shift: 2px;
}

.sprotty[id^='system-diagram'] .tool-palette {
   top: 11px;
   right: 11px;
   width: 150px;
   border: 1px solid #d7d7d7;
}

.sprotty[id^='system-diagram'] .tool-palette .palette-header,
.sprotty[id^='system-diagram'] .tool-palette .group-header,
.sprotty[id^='system-diagram'] .minimize-palette-button {
   display: none;
}

.sprotty[id^='system-diagram'] .tool-palette .tool-button {
   outline-width: 0;
}

/* we know there is only the 1:1 relationship tool for now, if we ever need more styling, better to create a complete custom toolbar */
.sprotty[id^='system-diagram'] .tool-palette .tool-button::before {
   margin-right: var(--theia-ui-padding);
   font-size: var(--theia-icon-size);
   font: normal normal normal 16px/1 codicon;
   content: '\eafd';
   -webkit-font-smoothing: antialiased;
   -moz-osx-font-smoothing: grayscale;
}

.sprotty[id^='system-diagram'] .tool-palette .tool-button.clicked {
   background: var(--theia-activityBarBadge-background);
   color: var(--theia-activityBarBadge-foreground);
}

.command-palette {
   animation: none;
}
